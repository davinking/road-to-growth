#Apache服务器的三种工作模式
 
 Apache服务器支持三种工作模式，分别为 __prefork__ 模式、 __worker模式__ 、 __event模式__ 。在旧的版本只支持profork和worker模式，
只有较新的版本才支持event模式。不同的工作模式有不同的优缺点，会影响到Apache的性能和可伸缩性。查看Apache服务器的工作模式，可以使用命令httpd -l：

```shell
[root@Server ~]# httpd -l
Compiled in modules:
  core.c
  prefork.c
  http_core.c
  mod_so.c
```

  如上看到 __prefork.c__ 则为prefork模式，以此类推。

##prefork模式
 
 此工作模式中，Apache使用进程来处理请求，一个进程初一个请求。它适合在没有线程安全库和需要避免线程兼容性的系统中运行。

```
# StartServers: 服务器启动时开启的进程数
# MinSpareServers: 最小的空闲进程数
# MaxSpareServers: 最大的空闲进程数
# ServerLimit: 在Apache的生命周期内，限制MaxClients的最大值
# MaxClients: 最大的并发请求数
# MaxRequestsPerChild: 一个进程可以处理的最多的请求数（进程复用），如请求超过该设置则杀死进程，0表示永不过期。
<IfModule prefork.c>
StartServers       50   
MinSpareServers    100
MaxSpareServers   200
ServerLimit      1000
MaxClients       1000
MaxRequestsPerChild  0
</IfModule>
```

##worker模式
 
  worker模式是以线程来处理请求的工作模式，一个线程处理一个请求。
  
```
# StartServers: 服务器启动时开启的进程数
# MaxClients: 最大的并发请求数
# MinSpareThreads: 最小的线程空闲数
# MaxSpareThreads: 最大的线程空闲数
# ThreadsPerChild: 每一个进程可以产生的线程数
# MaxRequestsPerChild: 一个线程可以处理的最多的请求数（线程复用），如请求超过该设置则杀死线程，0表示永不过期。
<IfModule worker.c>
StartServers         4
MaxClients         300
MinSpareThreads     25
MaxSpareThreads     75
ThreadsPerChild     25
MaxRequestsPerChild  0
</IfModule>
```

##event
 
 
