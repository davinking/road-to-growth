# 13.ICMP:互联网控制消息协议

  __ICMP:互联网控制消息协议__，互联网核心议议族之一，通常用来分析和诊断网络。我们平常会使用<code>ping</code>命令来诊断机器的网络是否连通,而<code>ping</code>命令就是使用ICMP实现的。
  
  __ICMP__的主要功能：__确认IP包是否成功到达目标地址，通知在发送过程中IP包被废弃的具体原因__。ICMP是基于尽力而为的IP之上工作的，因此无法保证发出去的包一定能够接收响应。

  
##ICMP消息类型

  客户端根据ICMP的响应消息来诊断网络状态，ICMP的消息类型请查阅<a href="http://zh.wikipedia.org/zh/ICMP" target="_blank">ICMP维基百科</a>：
  
##ping

```sql
root@kali:~# ping -c 5 baidu.com
PING baidu.com (220.181.111.85) 56(84) bytes of data.
64 bytes from 220.181.111.85: icmp_req=1 ttl=128 time=51.1 ms
64 bytes from 220.181.111.85: icmp_req=2 ttl=128 time=54.1 ms
64 bytes from 220.181.111.85: icmp_req=3 ttl=128 time=52.9 ms
64 bytes from 220.181.111.85: icmp_req=4 ttl=128 time=49.1 ms
64 bytes from 220.181.111.85: icmp_req=5 ttl=128 time=49.4 ms

--- baidu.com ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4007ms
rtt min/avg/max/mdev = 49.186/51.392/54.106/1.937 ms
```

##traceroute和tracert
  

